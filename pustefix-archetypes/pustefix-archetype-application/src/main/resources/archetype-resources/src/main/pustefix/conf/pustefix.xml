#set( $symbol_pound = '#' )
#set( $symbol_dollar = '$' )
#set( $symbol_escape = '\' )
<?xml version="1.0" encoding="UTF-8"?>
<properties xmlns="http://www.pustefix-framework.org/2008/namespace/properties-config" 
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="http://www.pustefix-framework.org/2008/namespace/properties-config ../../core/schema/properties-config.xsd">
    
    <!-- shared properties for the pustefix projects -->

    <!-- IMPORTANT! Set this property to some random value! -->
    <prop name="derefserver.signkey">987foobarbaz123</prop>
    <prop name="derefserver.validtime">300</prop>
    
    <!-- dump of the whole session on Exception -->
    <prop name="servlet.sessiondumponerror">true</prop>
    
    <!--  Set this to true if you want to skip the last transformation and only get a
        xml document containing all needed information for an external renderer -->
    <!-- <prop name="xmlserver.output.externalrenderer">true</prop> -->
    
    <!-- URL for the Pustefix editor -->
    <choose>
      <when test="${symbol_dollar}standalone.tomcat = 'true'">
        <prop name="xmlserver.editor_url">http://cmsskel.${symbol_dollar}{fqdn}:8080</prop>
      </when>
      <otherwise>
        <prop name="xmlserver.editor_url">http://cmsskel.${symbol_dollar}{fqdn}</prop>
      </otherwise>
    </choose>
        
    <choose>
      <when test="${symbol_dollar}mode = 'prod'">
        <!-- Set this to true if you want to skip the check for changed stylesheets on every request -->
        <prop name="targetgenerator.skip_getmodtimemaybeupdate">true</prop>
        <!-- Set this to true if you want to prohibit editing. -->
        <prop name="xmlserver.noeditmodeallowed">true</prop>
        <!-- Set the timeout for removing old SPDocuments. (in seconds) -->
        <prop name="sessioncleaner.timeout">20</prop>
      </when>
      <otherwise>
        <!-- Set this to true if you want to skip the check for changed stylesheets on every request -->
        <prop name="targetgenerator.skip_getmodtimemaybeupdate">false</prop>
        <!-- Set this to false if you want to be able to do editing -->
        <prop name="xmlserver.noeditmodeallowed">false</prop>
        <!-- Set the timeout for removing old SPDocuments.(in seconds) -->
        <prop name="sessioncleaner.timeout">600</prop>
      </otherwise>
    </choose>
    
    <!-- this defines a named switch ("default" in this case) that a servlet can watch to
       go into adminmode when the switch's status changes to true -->
    <prop name="context.adminmode.default.status">off</prop>
    <prop name="xmlserver.additionalinfo.implementation">de.schlund.pfixxml.perflogging.DefaultAdditionalTrailInfoImpl</prop>
    
    <choose>
      <when test="${symbol_dollar}mode = 'test'">
        <prop name="exception.java.lang.Throwable.processor">de.schlund.pfixxml.exceptionprocessor.UniversalExceptionProcessor</prop>
      </when>
    </choose>
    
    <!-- Defines SSL ports used for redirect corresponding to the unsecure ports -->
    <prop name="pfixcore.ssl_redirect_port.for.8080">8443</prop>
    <prop name="pfixcore.ssl_redirect_port.for.9080">9443</prop>

</properties>