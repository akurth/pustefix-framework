<?xml version="1.0" encoding="utf-8"?>
<context-xml-service-config xmlns="http://www.pustefix-framework.org/2008/namespace/context-xml-service-config">

  <extension type="context.role">
    <extend extension-point="roles.main"/>
    <role name="ANONYMOUS" initial="true"/>
    <role name="AUTHORIZED"/>
  </extension>

  <extension type="context.authconstraint">
    <extend extension-point="authconstraints.main"/>
    <authconstraint id="AC_AUTHORIZED" default="true" authpage="login">
      <hasrole name="AUTHORIZED"/>
    </authconstraint>
  </extension>

  <extension type="context.pagerequest">
    <extend extension-point="pagerequest.main"/>
    <pagerequest name="login">
      <authconstraint authpage="login">
        <hasrole name="ANONYMOUS"/>
      </authconstraint>
      <input>
        <wrapper prefix="login" class="org.pustefixframework.samples.taskmanager.login.web.Login"/>
      </input>
    </pagerequest>
  </extension>

</context-xml-service-config>
