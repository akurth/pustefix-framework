<?xml version="1.0" encoding="utf-8"?>
<context-xml-service-config xmlns="http://www.pustefix-framework.org/2009/namespace/context-xml-service-config" 
                            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                            xsi:schemaLocation="http://www.pustefix-framework.org/2009/namespace/context-xml-service-config 
                                                ../../core/schema/context-xml-service-config.xsd"
                            version="1.0">
  
  <global-config/>

  <context defaultpage="Home">
    <resource bean-name="contextUser" class="org.pustefixframework.sample.modular.context.User"/>
  </context>

  <pageflow name="MainFlow" final="Home">
    <flowstep name="Home"/>
    <extension-point id="flow.main" type="context.flowstep" cardinality="0..n"/>
    <flowstep name="Bye"/>
  </pageflow>

  <pagerequest name="Home">
    <input>
      <wrapper prefix="registration" class="org.pustefixframework.sample.modular.wrapper.Registration"/>
    </input>
  </pagerequest>

  <pagerequest name="Bye">
    <state class="org.pustefixframework.sample.modular.state.ByeState"/>
    <output>
      <resource node="user" bean-ref="contextUser"/>
    </output>
  </pagerequest>

  <extension-point id="pagerequest.main" type="context.pagerequest" cardinality="0..n"/>
  
  <extension-point id="pagerequest.goo" type="context.pagerequest" cardinality="0..n"/>

</context-xml-service-config>
