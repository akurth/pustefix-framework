<?xml version="1.0" encoding="ISO-8859-1" ?>

<projects xmlns:cus="http://www.schlund.de/pustefix/customize">

  <!-- some common definitions that are shared between all projects -->
  
  <common>
    <commonpropfile><cus:docroot/>common/conf/pustefix.prop</commonpropfile>
    <tomcat>
      <minprocessors>100</minprocessors>
      <maxprocessors>500</maxprocessors>
      <connectorport>8009</connectorport>
      <debug>0</debug>
      <loglevel>info</loglevel>
      <jkhost><cus:fqdn/></jkhost>
      <!-- This is only for mod_jk A matching sample workers.prop file will be generated, but may need -->
      <!-- additional customization. Clustering will not work out of the box. -->
      <jkmount>router</jkmount>
      <defaulthost>admcore.<cus:fqdn/></defaulthost>
      <jvmroute>foo</jvmroute>
    </tomcat>
    <apache>
      <apachelogdir><cus:docroot/>servletconf/log</apachelogdir>
      <!-- For all of the directories there will be an alias for direct handling by apache in ALL projects. -->
      <!-- This is needed because every project can potentially use images from every other projects "img" directory  -->
      <passthrough>common/img</passthrough>
      <passthrough>core/img</passthrough>
      <passthrough>core/script</passthrough>
      <passthrough>core/editor/img</passthrough>

      <!-- FILL IN IMG DIRECTORIES OF NEW PROJECTS HERE -->
      
    </apache>
  </common>

  <!-- FILL IN NEW PROJECTS HERE -->
  

  <!-- DON'T CHANGE THE STUFF BELOW -->
  <!-- Don't change the two projects below, they are needed to make the whole system work -->

  <!-- This is the Content Management System. You will be able to edit all projects -->
  <!-- which have at least one servlet with the "useineditor" attribute set to "true" -->
  
  <project name="editor">
    <active>true</active>
    <comment>CMS for Pfixcore</comment>
    <depend><cus:docroot/>core/editor/conf/depend.xml</depend>

    <virtualhost><cus:fqdn/></virtualhost>
    <servername>editor.<cus:fqdn/></servername>
    <serveralias>editor.<cus:machine/></serveralias>
    <defpath>/xml/edit</defpath>
    <ports>
      <port number="80"/>
    </ports>

    <servlet name="edit" useineditor="true">
      <active>true</active>
      <class>de.schlund.pfixxml.ContextXMLServer</class>
      <propfile><cus:docroot/>core/editor/conf/config.prop</propfile>
    </servlet>
    <servlet name="deref">
      <active>true</active>
      <class>de.schlund.pfixxml.DerefServer</class>
    </servlet>
  </project>

  <!-- You should not change this pseudo project below unless you know what you are doing.
       It is needed for administrative stuff like initializing all the needed factories. -->

  <project name="admskel">
    <active>true</active>
    <comment>Adminzone For Pfixcore</comment>
    
    <virtualhost><cus:fqdn/></virtualhost>
    <servername>admskel.<cus:fqdn/></servername>
    <serveralias>admskel.<cus:machine/></serveralias>
    <ports>
      <port number="80"/>
    </ports>
    <!-- The autostart attribute will start the servlet as soon as the container starts -->
    <servlet name="init" autostartup="true">
      <active>true</active>
      <class>de.schlund.pfixxml.FactoryInitServlet</class>
      <propfile><cus:docroot/>common/conf/factory.prop</propfile>
    </servlet>
  </project>


</projects>
