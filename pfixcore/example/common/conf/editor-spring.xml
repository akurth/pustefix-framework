<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
  
  <bean id="projectfactory" class="de.schlund.pfixcore.editor2.core.spring.ProjectFactoryServiceImpl">
    <constructor-arg index="0">
	  <ref bean="pathresolver"/>
	</constructor-arg>
	<constructor-arg index="1">
	  <ref bean="variantfactory"/>
	</constructor-arg>
  	<constructor-arg index="2">
	  <ref bean="themefactory"/>
	</constructor-arg>
  	<constructor-arg index="3">
	  <ref bean="pagefactory"/>
	</constructor-arg>
  	<constructor-arg index="4">
	  <ref bean="filesystem"/>
	</constructor-arg>
	<constructor-arg index="5">
	  <value>servletconf/projects.xml</value>
	</constructor-arg>
  </bean>
		  
  <bean id="pathresolver" class="de.schlund.pfixcore.editor2.core.spring.PathResolverServiceImpl">
  </bean>
		  
  <bean id="variantfactory" class="de.schlund.pfixcore.editor2.core.spring.VariantFactoryImpl">
  </bean>

  <bean id="themefactory" class="de.schlund.pfixcore.editor2.core.spring.ThemeFactoryImpl">
  </bean>	
  
  <bean id="targetfactory" class="de.schlund.pfixcore.editor2.core.spring.TargetFactoryImpl">
    <constructor-arg index="0">
	  <ref bean="projectfactory"/>
	</constructor-arg>
    <constructor-arg index="1">
	  <ref bean="pagefactory"/>
	</constructor-arg>
    <constructor-arg index="2">
	  <ref bean="variantfactory"/>
	</constructor-arg>
	<constructor-arg index="3">
	  <ref bean="targetfactory"/>
	</constructor-arg>
	<constructor-arg index="4">
	  <ref bean="themefactory"/>
	</constructor-arg>
	<constructor-arg index="5">
	  <ref bean="includefactory"/>
	</constructor-arg>
	<constructor-arg index="6">
	  <ref bean="imagefactory"/>
	</constructor-arg>
  </bean>
	
  <bean id="pagefactory" class="de.schlund.pfixcore.editor2.core.spring.PageFactoryServiceImpl">
    <constructor-arg index="0">
	  <ref bean="targetfactory"/>
	</constructor-arg>
  </bean>
	
  <bean id="includefactory" class="de.schlund.pfixcore.editor2.core.spring.IncludeFactoryServiceImpl">
    <constructor-arg index="0">
	  <ref bean="projectfactory"/>
	</constructor-arg>  
    <constructor-arg index="1">
	  <ref bean="themefactory"/>
	</constructor-arg>  
    <constructor-arg index="2">
	  <ref bean="variantfactory"/>
	</constructor-arg>  
    <constructor-arg index="3">
	  <ref bean="includefactory"/>
	</constructor-arg>  
    <constructor-arg index="4">
	  <ref bean="pathresolver"/>
	</constructor-arg>  
    <constructor-arg index="5">
	  <ref bean="filesystem"/>
	</constructor-arg>  
    <constructor-arg index="6">
	  <ref bean="securitymanager"/>
	</constructor-arg>  
  </bean>
	
  <bean id="filesystem" class="de.schlund.pfixcore.editor2.core.spring.FileSystemServiceImpl">
  </bean>

  <bean id="configuration" class="de.schlund.pfixcore.editor2.core.spring.ConfigurationServiceImpl">
    <constructor-arg index="0">
		<ref bean="filesystem"/>
	</constructor-arg>
    <constructor-arg index="1">
		<ref bean="pathresolver"/>
	</constructor-arg>
    <constructor-arg index="2">
		<value>servletconf/projects.xml</value>
	</constructor-arg>	  
  </bean>

  <bean id="securitymanager" class="de.schlund.pfixcore.editor2.core.spring.SecurityManagerServiceImpl">
    <constructor-arg index="0">
		<ref bean="filesystem"/>
	</constructor-arg>
    <constructor-arg index="1">
		<ref bean="pathresolver"/>
	</constructor-arg>
  </bean>

  <bean id="userpasswordauthentication" class="de.schlund.pfixcore.editor2.core.spring.UserPasswordAuthenticationServiceImpl">
    <constructor-arg index="0">
		<ref bean="filesystem"/>
	</constructor-arg>
    <constructor-arg index="1">
		<ref bean="pathresolver"/>
	</constructor-arg>
  </bean>	
					
</beans>