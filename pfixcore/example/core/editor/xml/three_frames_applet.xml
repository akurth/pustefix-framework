<?xml version="1.0" encoding="ISO-8859-1"?>
<pfx:document xmlns:pfx="http://www.schlund.de/pustefix/core"
              xmlns:ixsl="http://www.w3.org/1999/XSL/Transform">
  <pfx:head>
    <title>Pustefix Content Management und Editor</title>
  </pfx:head>
  <pfx:frameset rows="37,*,1">
    <pfx:frame name="top_navi">
      <html>
	<head>
          <style type="text/css">
            <pfx:include href="core/txt/styles.xml" part="standard"/>
            <pfx:include href="core/editor/txt/styles.xml" part="standard"/>
          </style>
        </head>
	<body>
	  <pfx:include href="core/editor/txt/navigation.xml" part="top"/>
	</body>
      </html>
    </pfx:frame>
    <pfx:frame name="bottom">
      <pfx:frameset cols="300,*" border="2" frameborder="2" framespacing="1">
	<pfx:frame name="left_navi" noresize="false">
	  <html>
	    <head>
              <style type="text/css">
                <pfx:include href="core/txt/styles.xml" part="standard"/>
                <pfx:include href="core/editor/txt/styles.xml" part="standard"/>
              </style>
              <pfx:script>
                function check_frameset() {
                    if (top.frames["top_navi"] == null) {
                        alert("Need to reload top");
                        var href = self.location.href;
                        var pre  = href.substring(0, href.indexOf("__frame"));
                        var post = href.substring(href.indexOf("left_navi") + 9); 
                        top.location.href = pre + "__frame=_top" + post;
                    }
                }
              </pfx:script>
            </head>
	    <body class="editor_body_sidebar" onload="check_frameset()">
              <pfx:maincontent path="core/editor/txt/pages" prefix="main_" part="sidebar"/>
	    </body>
	  </html>
        </pfx:frame>
        <pfx:frame name="main">
	  <html>
	    <head>
              <style type="text/css">
                <pfx:include href="core/txt/styles.xml" part="standard"/>
                <pfx:include href="core/editor/txt/styles.xml" part="standard"/>
              </style>
            </head>
	    <body onload="test()">
              
              <div style="padding-left: 10px; padding-right: 10px;">
                <pfx:maincontent path="core/editor/txt/pages" prefix="main_" part="content"/>
              </div>
	    </body>
	  </html>
	</pfx:frame>
      </pfx:frameset>
    </pfx:frame>                 
    <pfx:frame name="applet">
      <html>
        <head>
          <pfx:script>                        

            function showApplet() {
               window.document.applets["xmlEditor"].showApplet();
            }

            function hideApplet() {
               window.document.applets["xmlEditor"].hideApplet();
            }


            function __destroyApplet() {
               window.document.applets["xmlEditor"].destroyApplet();
            }
            
            
            function doSub() {             
              var text =  window.document.applets["xmlEditor"].getText();
              parent.frames["bottom"].frames["main"].document.getElementById('test').value = text;
              parent.frames["bottom"].frames["main"].document.getElementById('subButton').click();
            }

        </pfx:script>  
        </head>
        <body onunload="__destroyApplet()">
          <applet code="de/schlund/pfixeditor/editor/PfixAppletNeu" codebase="/core/script" NAME="xmlEditor" archive="xmlEditorApplet.jar"  width="1" height="1" MAYSCRIPT="true"/>
        </body>
      </html>
    </pfx:frame>
  </pfx:frameset>
</pfx:document>

<!--
Local Variables:
mode: xml
End:
-->