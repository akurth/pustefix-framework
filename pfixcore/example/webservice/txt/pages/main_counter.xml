<?xml version="1.0" encoding="ISO-8859-1"?>
<include_parts xmlns:ixsl="http://www.w3.org/1999/XSL/Transform" xmlns:pfx="http://www.schlund.de/pustefix/core">

  <part name="content">
    <product name="default">
      <lang name="default">

        <div id="service" style="behavior:url(/webservice.htc)"></div>

		<h1>Counter service</h1>
		
		<div>
		<h2>Pustefix SOAP</h2>
		<p>Pustefix soap call took <span id="pfxsoap_time">0</span> ms.</p>
		<p><span class="error" id="pfxsoap_error"></span></p>
		<form name="pfxsoap" action="">
			<input type="hidden" name="sid" value="{$__sessid}"/>
			<table cellpadding="5" bgcolor="#b6cfe4">
				<tr>
					<td>Counter:</td>
					<td><input type="text" id="pfxsoap_result" readonly="readonly" size="8"/></td>
					<td><input type="button" onclick="pfxsoapCall('getValue',null,document.pfxsoap.sid.value);" value="Refresh"/></td>
				</tr>
				<tr>
					<td></td>
					<td><input type="text" name="val" value="3" size="8"/></td>
					<td><input type="button"  onclick="pfxsoapCall('addValue',document.pfxsoap.val.value,document.pfxsoap.sid.value);" value="Add"/></td>
				</tr>
			</table>	
		</form>
		</div>
		
        <div name="gecko_disp" style="display:none">
		<h2>Mozilla low-level SOAP</h2>
		<p>Low-level soap call took <span id="soap_time">0</span> ms.</p>
		<p><span class="error" id="soap_error"></span></p>
		<form name="mozsoap" action="">
			<input type="hidden" name="sid" value="{$__sessid}"/>
			<table cellpadding="5" bgcolor="#b6cfe4">
				<tr>
					<td>Counter:</td>
					<td><input type="text" id="soap_result" readonly="readonly" size="8"/></td>
					<td><input type="button" onclick="soapCall('getValue',null,document.mozsoap.sid.value);" value="Refresh"/></td>
				</tr>
				<tr>
					<td></td>
					<td><input type="text" name="val" value="3" size="8"/></td>
					<td><input type="button"  onclick="soapCall('addValue',document.mozsoap.val.value,document.mozsoap.sid.value);" value="Add"/></td>
				</tr>
			</table>	
		</form>
		<h2>Mozilla WSDL proxying</h2>
		<p>Proxying soap call took <span id="wsdl_time">0</span> ms.</p>
		<p><span class="error" id="wsdl_error"></span></p>
		<form name="mozwsdl" action="">
			<input type="hidden" name="sid" value="{substring-after($__sessid,'jsessionid=')}"/>
			<table cellpadding="5" bgcolor="#b6cfe4">
				<tr>
					<td>Counter:</td>
					<td><input type="text" id="wsdl_result" readonly="readonly" size="8"/></td>
					<td><input type="button" onclick="wsdlCall( 'getValue',null,'{$__sessid}')" value="Refresh"/></td>
				</tr>
				<tr>
					<td></td>
					<td><input type="text" name="val" value="3" size="8"/></td>
					<td><input type="button"  onclick="wsdlCall( 'addValue', document.mozwsdl.val.value,'{$__sessid}')" value="Add"/></td>
				</tr>
			</table>	
		</form>
        </div>
        
        <div name="ie_disp" style="display:none">
		<h2>IE WSDL proxying</h2>
		<p>Proxying soap call took <span id="wsdlie_time">0</span> ms.</p>
		<p><span class="error" id="wsdl_error"></span></p>
		<form name="iewsdl" action="">
			<input type="hidden" name="sid" value="{substring-after($__sessid,'jsessionid=')}"/>
			<table cellpadding="5" bgcolor="#b6cfe4">
				<tr>
					<td>Counter:</td>
					<td><input type="text" id="wsdl_result" readonly="readonly" size="8"/></td>
					<td><input type="button" onclick="__webservices__['Counter'].call( 'getValue')" value="Refresh"/></td>
				</tr>
				<tr>
					<td></td>
					<td><input type="text" name="val" value="3" size="8"/></td>
					<td><input type="button"  onclick="__webservices__['Counter'].call( 'addValue', document.iewsdl.val.value );" value="Add"/></td>
				</tr>
			</table>	
		</form>     
        </div>
          
      </lang>
    </product>
  </part>
  
</include_parts>
