<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
  
  <bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="alwaysUseFullPath" value="true"/>
    <property name="mappings">
      <value>
        /xml/config/**=__pfx_contexthandler
        /xml/download/**=__pfx_directhandler
        /xml/deref/**=__pfx_derefhandler
      </value>
    </property>
  </bean>
  
  <bean id="__pfx_contexthandler" class="org.pustefixframework.http.PustefixContextXMLRequestHandler">
    <property name="commonPropFile">
      <value>pfixroot:/common/conf/pustefix.xml</value>
    </property>
    <property name="propFile">
      <value>pfixroot:/sample1/conf/config.conf.xml</value>
    </property>
    <property name="dependFile">
      <value>pfixroot:/sample1/conf/depend.xml</value>
    </property>
    <property name="handlerURI">
      <value>/xml/config/**</value>
    </property>
  </bean>
  
  
  
  <bean id="__pfx_directhandler" class="org.pustefixframework.http.PustefixContextDirectOutputRequestHandler">
    <property name="commonPropFile">
      <value>pfixroot:/common/conf/pustefix.xml</value>
    </property>
    <property name="propFile">
      <value>pfixroot:/sample1/conf/direct.conf.xml</value>
    </property>
    <property name="handlerURI">
      <value>/xml/download/**</value>
    </property>
  </bean>
  
  <bean id="__pfx_derefhandler" class="org.pustefixframework.http.dereferer.DerefRequestHandler">
    <property name="commonPropFile">
      <value>pfixroot:/common/conf/pustefix.xml</value>
    </property>
    <property name="handlerURI">
      <value>/xml/deref/**</value>
    </property>
  </bean>
  
  
</beans>
